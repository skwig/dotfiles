" You can find a list of commands here: https://jb.gg/h38q75
" Find more examples here: https://jb.gg/share-ideavimrc

let mapleader = " "

" Plugins
set highlightedyank
set commentary
set easymotion
set NERDTree
set which-key

" General settings
set scrolloff=5
set incsearch
set relativenumber number
set clipboard^=ideaput
set keymodel=startsel,stopsel

" Disable annoying bells
set visualbell
set noerrorbells

" Don't use Ex mode, use Q for formatting.
map Q gq

" NOPs
nnoremap <leader> <NOP>

" Redo with Shift
nmap <S-u> <C-r>

" Custom movement
"" Halfpage jumps to Shift
nnoremap <S-k> <C-u>
nnoremap <S-j> <C-d>

"" Tabs
map <A-i> <Action>(PreviousTab)
map <A-o> <Action>(NextTab)

" IDE features - usually the default keymap, but with <leader> instead of ctrl
map <leader>b <Action>(GotoDeclaration)
map <leader><S-b> <Action>(GotoImplementation)
map <leader>r <Action>(ToggleLineBreakpoint)
nmap <leader><S-t> <Action>(Refactorings.QuickListPopupAction)
nmap <leader>k <Action>(ActivateCommitToolWindow)
nmap <leader><S-k> <Action>(Vcs.Push)

" Macros
"" Surround with ()
xnoremap <leader>( c()<Esc>P
xnoremap <leader>) c()<Esc>P

"" Surround with []
xnoremap <leader>[ c[]<Esc>P
xnoremap <leader>] c[]Esc>P

"" Surround with {}
xnoremap <leader>{ c{}<Esc>P
xnoremap <leader>} c{}<Esc>P

"" Surround with <>
xnoremap <leader>< c<><Esc>P
xnoremap <leader>> c<><Esc>P

" Collisions
sethandler <C-B> a:ide
sethandler <C-C> a:ide
sethandler <C-D> a:vim
sethandler <C-E> a:vim
sethandler <C-F> a:ide
sethandler <C-G> a:ide
sethandler <C-I> a:vim
sethandler <C-J> a:ide
sethandler <C-K> a:ide
sethandler <C-L> a:ide
sethandler <C-N> a:ide
sethandler <C-O> a:vim
sethandler <C-P> a:ide
sethandler <C-R> a:ide
sethandler <C-S> a:vim
sethandler <C-V> a:ide
sethandler <C-W> a:ide
sethandler <C-X> a:ide
